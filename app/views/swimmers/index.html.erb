<div ng-app='comsatrack'>
  <div ng-controller='SwimmersCtrl'>
    <% provide(:title, 'Check In') %>
    <div class='hidden-xs desktop-alert-centering'>
      <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
      <h1>Swimmer Check In</h1>
    </div>
    <div class='visible-xs'>
      <div class='navbar-fixed-top'>
          <alert ng-repeat="alert in alerts" style='text-align: center;' type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
      </div>
      <br><br>
    </div>
    <div class='row'>
      <div class='col-md-3'>
        <div class="input-group">
          <input class="form-control" ng-model="search.last_name"
                 placeholder="Search Last Name"/>
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-search"></span>
          </span>
        </div>
      </div>
      <div class='col-md-7'></div>
      <div class='col-md-2'>
    </div>
    <div class='hidden-xs'>
      <br><br><br>
    </div>
    <div class='table-responsive'>
      <table class='table table-hover table-condensed' >
        <thead>
          <tr>
            <th></th>
            <th></th>
            <th class='visible-xs'>
             <a href='' ng-click="predicate.value = 'last_name'; reverse=!reverse">
               Full Name</a>
            </th>
            <th class='hidden-xs'>
              <a href="" ng-click="predicate.value = 'last_name'; reverse=!reverse">
                Last Name</a>
            </th>
            <th class='hidden-xs'>First Name</th>
            <th class='hidden-xs'>MI</th>
            <th class='hidden-xs'>USMS Number</th>
            <th class='hidden-xs'>LMSC</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat='swimmer in Swimmers | orderBy:predicate.value:reverse |
                         filter:search | limitTo:totalDisplayed'>
            <td style='width:80px;'>
              <span>
                <div ng-hide='inState(swimmer)'>
                  <in-state ng-click='deleteRow(swimmer)' info='swimmer'></in-state>
                </div>
                <div ng-show='swimmerCheckedIn(swimmer)' ng-click="search.last_name ='' ">
                    <check-in ng-click='addAlert(swimmer)' info='swimmer'></check-in>
                </div>
                <div ng-hide='swimmerCheckedIn(swimmer)'>
                  <button class='btn-sm btn' style='width:80px;' disabled="disabled">Checked In</button>
                </div>
              </span>
            </td>
            <td style='width:105px;'>
              <div ng-if='noPhone(swimmer)'>
                <form novalidate class="simple-form">
                  <input type="tel" ng-model="swimmer.phone_number" placeholder="Add Phone" />
                </form>
              </div>
            </td>
            <td class='visible-xs'>
              <a ng-href='/swimmers/{{swimmer.id}}'>
                {{swimmer.last_name}}, {{swimmer.first_name}} {{swimmer.middle_initial}}
              </a>
            </td>
            <td class='hidden-xs'>
              <a ng-href='/swimmers/{{swimmer.id}}'>
                {{swimmer.last_name}}
              </a>
            </td>
            <td class='hidden-xs'>{{swimmer.first_name}}</td>
            <td class='hidden-xs'>{{swimmer.middle_initial}}</td>
            <td class='hidden-xs'>{{swimmer.usms_number}}</td>
            <th class='hidden-xs'>{{swimmer.lmsc}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <center>
      <btn class="btn btn-default" ng-click="loadMore()">Load Additional Records</btn>
      <a href='/swimmers?in_state=false' class='btn btn-default'>Search Out of State</a>
    </center>
  </div>
</div>
